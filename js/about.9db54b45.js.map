{"version":3,"file":"js/about.9db54b45.js","mappings":"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","sources":["webpack://dcard-intern-homework-vue/./src/views/UserDetails.vue","webpack://dcard-intern-homework-vue/./src/views/UserDetails.vue?cdfb"],"sourcesContent":["<template>\n  <section class=\"container\">\n    <div class=\"repo-owner\">\n      <div class=\"repo-owner-container\">\n        <img class=\"repo-owner-img\" :src=\"repos.items[0]?.owner.avatar_url\" alt=\"ownerImg\">\n        <h1 class=\"repo-owner-name\">{{ repos.items[0]?.owner?.login }}</h1>\n      </div>\n    </div>\n    <div class=\"repos\">\n      <div class=\"repo\" v-for=\"(repo, index) in repos.items\" :key=\"index\">\n        <h3 class=\"repo-title\">\n          <router-link :to=\"{ name: 'userrepo', params: { username: repo?.owner?.login, reponame: repo?.name }}\">{{ repo?.name }}</router-link>\n          <span class=\"repo-status\">{{ repo?.private ? \"Private\" : \"Public\"}}</span>\n        </h3>\n        <p>{{ repo?.description }}</p>\n        <div class=\"repo-details\">\n          <p>{{ repo?.language }}</p>\n          <p v-if=\"repo?.license\">License: {{ repo?.license?.spdx_id }}</p>\n          <p>Forks: {{ repo?.forks_count }}</p>\n          <p>Stars: {{ repo?.stargazers_count }}</p>\n          <p>Issues: {{ repo?.open_issues_count }}</p>\n          <p>Updated on {{ repo?.updated_at }}</p>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"isLoading\" class=\"loading\">\n        <div class=\"spinner\"></div>\n      </div>\n    <div class=\"bottom\" ref=\"ob\"></div>\n  </section>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { onActivated, reactive, watch } from '@vue/runtime-core';\nimport router from '../router'\n\nasync function getUser(searchUser) {\n        const response = await fetch(`https://api.github.com/users/${searchUser}`);\n        const userData = await response.json();\n        sessionStorage.setItem(\"repoAmount\", userData.public_repos);\n        if (userData.message == 'Not Found') {\n          router.push({ path: '/NotFound', replace: true })\n        } else {\n          return getRepos(searchUser);\n        }\n    }\n\nasync function getRepos(username) {\n      const response = await fetch(`https://api.github.com/users/${username}/repos?page=1&per_page=10`)\n      const repoData = await response.json();\n      return repoData\n    }\n\nexport default {\n  name: \"UserDetails\",\n  props: {\n    username: String,\n  },\n  async setup(props) {\n    const ob = ref(null)\n    let isLoading = ref(true);\n    let page = 1;\n    onActivated(() => {\n        const observer = new IntersectionObserver((entries) => {\n          entries.forEach(entry => {\n            const repoAmount = sessionStorage.getItem(\"repoAmount\");\n            if(10*page >= repoAmount) {\n              isLoading.value = false;\n            }\n            if(entry.isIntersecting && 10*page < repoAmount) {\n              const loadMore = async () => {\n                const response = await fetch(`https://api.github.com/users/${props.username}/repos?page=${page}&per_page=10`);\n                page+=1;\n                const resData = await response.json();\n                repos.items = repos.items.concat(resData);\n              };\n              loadMore(props.username);\n            }\n          });\n        }, {root: null, rootMargin: '0px', threshold: 0})\n        observer.observe(ob.value);\n    })\n\n    let repos = reactive({items:[]});\n    repos.items = await getRepos(props.username);\n\n    watch(\n      () => props.username,\n      () => {\n        getUser(props.username).then((res) => {\n          repos.items = res;\n        });\n      },\n    )\n\n    return {\n      repos,\n      ob,\n      isLoading,\n    }\n  },\n  beforeRouteEnter(to) {\n    getUser(to.params.username);\n  },\n}\n</script>\n\n<style scoped>\n.container {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 5vh;\n}\n.repo-owner {\n  height: 70px;\n  width: 70%;\n  min-width: 978px;\n  border-bottom: 0.01px solid rgba(255,255,255,0.2);\n  margin: 0 auto 10px auto;\n}\n.repo-owner-img {\n  height: 30px;\n  width: 30px;\n  border-radius: 6px;\n}\n.repo-owner-container {\n  height: 100%;\n  width: 100%;\n  text-align: left;\n  display: flex;\n  align-items: center;\n}\n.repo-owner-container > h1 {\n  margin-left: 10px;\n  color: #c9d1d9;\n}\n.repos {\n  min-width: 978px;\n  margin: 0 auto;\n  color: #cfd0d1;\n  width: 70%;\n  border: 0.01px solid rgba(255,255,255,0.2);\n  border-radius: 5px;\n}\n.repo {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 15px;\n  border-bottom: 0.01px solid rgba(255,255,255,0.2);\n}\n.repo p {\n  margin: 0;\n}\n.repo-title {\n  display: flex;\n  align-items: center;\n  margin: 0;\n}\n.repo-title a {\n  font-size: 20px;\n  color: #58a6ff;\n  text-decoration: none;\n}\n.repo-title a:visited {\n  color: #58a6ff;\n}\n.repo-title a:hover {\n  text-decoration: underline;\n}\n.repo-status {\n  margin-left: 10px !important;\n  border: 0.01px solid rgba(255,255,255,0.2);\n  border-radius: 15px;\n  font-size: 12px;\n  padding: 0 7px;\n}\n.repo-details {\n  margin-top: 5px;\n  display: flex;\n  justify-content: space-evenly;\n}\n.repo-details p {\n  font-size: 14px;\n  margin-right: 15px;\n}\n.loading {\n  margin: 0 auto;\n  height: 60px;\n  width: 60px;\n  display: flex;\n  justify-content: center;\n}\n.loading .spinner {\n  height: 100%;\n  width: 100%;\n  border: 10px solid transparent;\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spinning 0.7s linear infinite;\n}\n@keyframes spinning {\n  0% { transform: rotate(0deg) }\n  25% { transform: rotate(90deg) }\n  50% { transform: rotate(180deg) }\n  75% { transform: rotate(270deg) }\n  100% { transform: rotate(360deg) }\n}\n@media screen and (max-width: 1011px){\n  .container {\n    width: 95%;\n    margin: 2vh auto;\n  }\n  .repo-owner,\n  .repos {\n    min-width: 100%;\n  }\n  .repo > p {\n    text-align: left;\n    font-size: 14px;\n  }\n  .repo-details {\n    width: 100%;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n  }\n}\n</style>","import { render } from \"./UserDetails.vue?vue&type=template&id=ff787eda&scoped=true\"\nimport script from \"./UserDetails.vue?vue&type=script&lang=js\"\nexport * from \"./UserDetails.vue?vue&type=script&lang=js\"\n\nimport \"./UserDetails.vue?vue&type=style&index=0&id=ff787eda&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/lishaocheng/Web Development/dcard-intern-homework-vue/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ff787eda\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_12","ref","_createElementBlock","src","$setup","items","owner","avatar_url","alt","_toDisplayString","login","_Fragment","_renderList","repo","index","key","_createVNode","_component_router_link","to","name","params","username","reponame","private","description","language","license","_hoisted_10","spdx_id","forks_count","stargazers_count","open_issues_count","updated_at","_hoisted_13","async","getUser","searchUser","response","fetch","userData","json","sessionStorage","setItem","public_repos","message","getRepos","router","path","replace","repoData","props","String","ob","isLoading","page","onActivated","observer","IntersectionObserver","entries","forEach","entry","repoAmount","getItem","value","isIntersecting","loadMore","resData","repos","concat","root","rootMargin","threshold","observe","reactive","watch","then","res","beforeRouteEnter","__exports__","render"],"sourceRoot":""}